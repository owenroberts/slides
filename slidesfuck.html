<!DOCTYPE html>
<html>
<head>
  <title>cell test</title>
  <style>
    body { margin:0;}
    canvas {
      overflow: hidden;
      position:fixed;
    }

  </style>
</head>
<body>
  
  <script src="p5.min.js"></script>
  <script>
    
    var lerper = 0, lerpinc = 0.02;
    var alive, died, born, unborn;
    var cellw, columns, rows, board;
    var limit = {
      lonelylimit:1,
      lonelyaction:1
    };

    function setup() {
      createCanvas(windowWidth, windowHeight);
      noStroke();
      frameRate(30);

      cellw = windowWidth / 20;
      columns = rows = Math.floor(windowWidth/cellw);
      board = Array(columns);

      for (var i = 0; i < columns; i++){
        board[i] = Array(rows);
      }

      alive = color("blue");
      died = color("red");
      born = color("green");
      unborn = color("lightgray");

      init();


    }

    function draw() {
      if (lerper <= 1) lerper += lerpinc;
      colorTest();
    }

    function colorTest() {
      var ab = lerpColor(alive, died, lerper);
      fill(ab);
      rect(0, 0, 100, 100);
      fill(born);
      rect(100, 0, 100, 100);
      fill(died);
      rect(200, 0, 100, 100);
      fill(unborn);
      rect(300, 0, 100, 100);
      noStroke();
    }

    function init() {
      for (var x = 0; x < columns; x++) {
        for (var y = 0; y < rows; y++) {
          board[x][y] = new Cell(Math.round(Math.random()));
        }
      }
    }

    function Cell(state) { 
      this.state = state;
      this.prev = state;
      this.savePrevious = function() { this.prev = this.state; }
      this.newState = function(num) { this.state = num; }      
    }

    function keyPressed() {
      if (keyCode == LEFT_ARROW || keyCode == UP_ARROW 
          || keyCode == DOWN_ARROW || keyCode == RIGHT_ARROW) {
        lerper=0.001;//generate();

      }
    }
  </script>
  
  
  
</body>
</html>